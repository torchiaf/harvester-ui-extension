(("undefined"!==typeof self?self:this)["webpackChunkharvester_1_0_6"]=("undefined"!==typeof self?self:this)["webpackChunkharvester_1_0_6"]||[]).push([[527],{13539:function(e,t,r){"use strict";r.d(t,{A:function(){return B}});var o=r(9274);const a={class:"chart"},s={key:0,class:"hw-gauge"},n={class:"values text-muted"},l={key:0},i={key:1},c={key:2},u={key:3},d={key:1,class:"hw-gauge"},p={class:"values text-muted"},f={key:0},h={key:1},m={key:2},v={key:3};function g(e,t,r,g,y,k){const x=(0,o.resolveComponent)("ConsumptionGauge"),b=(0,o.resolveComponent)("SimpleBox");return(0,o.openBlock)(),(0,o.createBlock)(b,{class:"hardware-resource-gauge"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",a,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(r.name),1),!r.reserved||void 0===r.reserved.total&&void 0===r.reserved.useful?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",s,[(0,o.createVNode)(x,{capacity:r.reserved.total,used:r.reserved.useful,"color-stops":k.colorStops},{title:(0,o.withCtx)((()=>[(0,o.createElementVNode)("span",null,[(0,o.createTextVNode)((0,o.toDisplayString)(r.reservedTitle??e.t("clusterIndexPage.hardwareResourceGauge.reserved"))+" ",1),(0,o.createElementVNode)("span",n,[r.reserved.formattedUseful?((0,o.openBlock)(),(0,o.createElementBlock)("span",l,(0,o.toDisplayString)(r.reserved.formattedUseful),1)):((0,o.openBlock)(),(0,o.createElementBlock)("span",i,(0,o.toDisplayString)(k.maxDecimalPlaces(r.reserved.useful)),1)),t[0]||(t[0]=(0,o.createTextVNode)(" / ")),r.reserved.formattedTotal?((0,o.openBlock)(),(0,o.createElementBlock)("span",c,(0,o.toDisplayString)(r.reserved.formattedTotal),1)):((0,o.openBlock)(),(0,o.createElementBlock)("span",u,(0,o.toDisplayString)(k.maxDecimalPlaces(r.reserved.total))+" "+(0,o.toDisplayString)(r.reserved.units),1))])]),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(k.percentage(r.reserved)),1)])),_:1},8,["capacity","used","color-stops"])])),r.used&&void 0!==r.used.useful?((0,o.openBlock)(),(0,o.createElementBlock)("div",d,[(0,o.createVNode)(x,{capacity:r.used.total,used:r.used.useful,"color-stops":k.colorStops},{title:(0,o.withCtx)((()=>[(0,o.createElementVNode)("span",null,[(0,o.createTextVNode)((0,o.toDisplayString)(r.usedTitle??e.t("clusterIndexPage.hardwareResourceGauge.used"))+" ",1),(0,o.createElementVNode)("span",p,[r.used.formattedUseful?((0,o.openBlock)(),(0,o.createElementBlock)("span",f,(0,o.toDisplayString)(r.used.formattedUseful),1)):((0,o.openBlock)(),(0,o.createElementBlock)("span",h,(0,o.toDisplayString)(k.maxDecimalPlaces(r.used.useful)),1)),t[1]||(t[1]=(0,o.createTextVNode)(" / ")),r.used.formattedTotal?((0,o.openBlock)(),(0,o.createElementBlock)("span",m,(0,o.toDisplayString)(r.used.formattedTotal),1)):((0,o.openBlock)(),(0,o.createElementBlock)("span",v,(0,o.toDisplayString)(k.maxDecimalPlaces(r.used.total))+" "+(0,o.toDisplayString)(r.used.units),1))])]),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(k.percentage(r.used)),1)])),_:1},8,["capacity","used","color-stops"])])):(0,o.createCommentVNode)("",!0)])])),_:1})}var y=r(46877),k=r(87211),x={components:{ConsumptionGauge:y.A,SimpleBox:k.A},props:{name:{type:String,required:!0},units:{type:String,default:""},used:{type:Object,default:null},usedTitle:{type:String,default:null},reserved:{type:Object,default:null},reservedTitle:{type:String,default:null}},computed:{colorStops(){return{0:"--success",30:"--warning",70:"--error"}}},methods:{maxDecimalPlaces(e){return Math.round(100*e)/100},strokes(e,t){return{primaryStrokeColor:this.rgba(e,1),primaryStrokeGradientColor:this.rgba(t,1),secondaryStrokeColor:this.rgba(e,.1),secondaryStrokeGradientColor:this.rgba(t,.1)}},rgba(e,t){return`rgba(var(${e}), ${t})`},percentage(e){return 0===e.total?0:`${(e.useful/e.total*100).toFixed(2)}%`}}},b=(r(32778),r(47433));const S=(0,b.A)(x,[["render",g],["__scopeId","data-v-0e4e8f37"]]);var B=S},96413:function(e,t,r){"use strict";r.d(t,{A:function(){return i}});var o=r(9274);function a(e,t,r,a,s,n){const l=(0,o.resolveComponent)("t"),i=(0,o.resolveComponent)("router-link");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.renderSlot)(e.$slots,"prefix",{},(()=>[r.prefixLabel?((0,o.openBlock)(),(0,o.createBlock)(l,{key:0,k:r.prefixLabel,raw:!0},null,8,["k"])):(0,o.createCommentVNode)("",!0),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(r.prefix),1)])),(0,o.createVNode)(i,{to:r.to,target:r.target},{default:(0,o.withCtx)((()=>[(0,o.renderSlot)(e.$slots,"middle",{},(()=>[r.middleLabel?((0,o.openBlock)(),(0,o.createBlock)(l,{key:0,k:r.middleLabel,raw:!0},null,8,["k"])):(0,o.createCommentVNode)("",!0),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(r.middle),1)]))])),_:3},8,["to","target"]),(0,o.renderSlot)(e.$slots,"suffix",{},(()=>[r.suffixLabel?((0,o.openBlock)(),(0,o.createBlock)(l,{key:0,k:r.suffixLabel,raw:!0},null,8,["k"])):(0,o.createCommentVNode)("",!0),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(r.suffix),1)]))])}var s={props:{to:{type:[String,Object],required:!0},prefix:{type:String,default:""},suffix:{type:String,default:""},middle:{type:String,default:""},prefixLabel:{type:String,default:""},suffixLabel:{type:String,default:""},middleLabel:{type:String,default:""},target:{type:String,default:"self"}}},n=r(47433);const l=(0,n.A)(s,[["render",a]]);var i=l},67875:function(e,t,r){"use strict";r.d(t,{A:function(){return d}});var o=r(9274);function a(e,t,r,a,s,n){const l=(0,o.resolveDirective)("trim-whitespace");return(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)({progress:!0,multi:n.pieces.length>1})},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(n.pieces,((e,t)=>(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:t,class:(0,o.normalizeClass)({piece:!0,[e.color]:!0}),style:(0,o.normalizeStyle)(e.style)},null,6)),[[l]]))),128))],2)),[[l]])}var s=r(74302),n=r(76978),l={props:{values:{type:Array,required:!0},colorKey:{type:String,default:"color"},labelKey:{type:String,default:"label"},valueKey:{type:String,default:"value"},min:{type:Number,default:0},max:{type:Number,default:null},minPercent:{type:Number,default:5},showZeros:{type:Boolean,default:!1}},computed:{pieces(){const e=[];for(const s of this.values){const t=(0,n.Jt)(s,this.colorKey),r=(0,n.Jt)(s,this.labelKey),o=(0,n.Jt)(s,this.valueKey);(0!==o||this.showZeros)&&e.push({color:t,label:r,value:o})}const t=this.minPercent||0,r=this.min||0;let o=this.max,a=0;this.max||(o=100,e.length&&(o=e.map((e=>e.value)).reduce(((e,t)=>e+t))));for(const s of e){const e=Math.max(t,i(s.value,r,o));s.percent=e,a+=e}a>100&&((0,s.Ul)(e,"percent",!0)[0].percent-=a-100);for(const s of e)s.style=`width: ${s.percent}%`;return e.filter((e=>e.percent))}}};function i(e,t,r){e=Math.max(t,Math.min(r,e));let o=e/(r-t)*100;return o=Math.floor(100*o)/100,o}r(61789);var c=r(47433);const u=(0,c.A)(l,[["render",a],["__scopeId","data-v-abc33690"]]);var d=u},31855:function(e,t,r){"use strict";r.d(t,{dD:function(){return d},Ay:function(){return v},xS:function(){return p}});var o=r(9274);const a={class:"warnings"},s={key:0,class:"warn-count mb-10 chip"},n={key:1,class:"error-count chip"};function l(e,t,r,l,i,c){const u=(0,o.resolveComponent)("SimpleBox");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createVNode)(u,{class:(0,o.normalizeClass)(["container",{"has-link":!!c.location}]),onClick:c.goToResource},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("h1",null,(0,o.toDisplayString)(c.resourceCounts.total),1),(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(c.name),1),(0,o.createElementVNode)("div",a,[c.resourceCounts.warningCount?((0,o.openBlock)(),(0,o.createElementBlock)("div",s,(0,o.toDisplayString)(c.resourceCounts.warningCount),1)):(0,o.createCommentVNode)("",!0),c.resourceCounts.errorCount?((0,o.openBlock)(),(0,o.createElementBlock)("div",n,(0,o.toDisplayString)(c.resourceCounts.errorCount),1)):(0,o.createCommentVNode)("",!0)])])),_:1},8,["class","onClick"])])}var i=r(87211),c=r(35664),u=r(89631);function d(e){switch(e){case"text-success":case"text-info":return"useful";case"text-warning":return"warningCount";default:return"errorCount"}}function p(e,t){const r=e.getters["currentStore"](c.i2),o=e.getters[`${r}/all`](c.i2)?.[0]?.counts,a=o?.[t]?.summary||{},s={total:a.count||0,useful:a.count||0,warningCount:0,errorCount:0};return Object.entries(a.states||{}).forEach((e=>{const t=(0,u.uU)(e[0]),r=e[1],o=d(t);s["useful"]-=r,s[o]+=r})),s}var f={components:{SimpleBox:i.A},props:{resource:{type:String,default:""},spoofedCounts:{type:Object,default:null},cluster:{type:String,default:null}},computed:{resourceCounts(){return this.spoofedCounts?this.spoofedCounts:p(this.$store,this.resource)},location(){if(this.spoofedCounts)return this.spoofedCounts.location;const e={name:"c-cluster-product-resource",params:{product:this.$store.getters["currentProduct"].name,resource:this.resource}};return this.cluster&&(e.params.cluster=this.cluster),e},name(){if(this.spoofedCounts)return this.spoofedCounts.name;const e=this.$store.getters["currentStore"](this.resource),t=this.$store.getters[`${e}/schemaFor`](this.resource);return this.$store.getters["type-map/labelFor"](t,this.resourceCounts.useful)}},methods:{goToResource(){this.location&&this.$router.push(this.location)}}},h=(r(61167),r(47433));const m=(0,h.A)(f,[["render",l],["__scopeId","data-v-39c6e929"]]);var v=m},74562:function(e,t,r){"use strict";r.d(t,{A:function(){return d}});var o=r(9274);const a={key:0};function s(e,t,r,s,n,l){const i=(0,o.resolveComponent)("BadgeState");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[r.arbitrary?((0,o.openBlock)(),(0,o.createElementBlock)("div",a,[r.value?((0,o.openBlock)(),(0,o.createBlock)(i,{key:0,color:n.stateBackground,label:n.stateDisplay},null,8,["color","label"])):(0,o.createCommentVNode)("",!0)])):((0,o.openBlock)(),(0,o.createBlock)(i,{key:1,value:r.row},null,8,["value"]))])}var n=r(23005),l=r(89631),i={components:{BadgeState:n.j},props:{value:{type:String,default:""},row:{type:Object,required:!0},col:{type:Object,default:()=>{}},arbitrary:{type:Boolean,default:!1}},data(){return{stateDisplay:"",stateBackground:""}},watch:{value:{handler(){if(this.arbitrary){const e=(0,l.uU)(this.value);this.stateDisplay=(0,l.ch)(this.value),this.stateBackground=e.replace("text-","bg-")}},immediate:!0}}},c=r(47433);const u=(0,c.A)(i,[["render",s]]);var d=u},27536:function(e,t,r){"use strict";r.d(t,{A:function(){return v}});var o=r(9274);const a={key:0,class:"text-muted"},s={key:1,class:"live-date"},n={key:2,class:"live-date"};function l(e,t,r,l,i,c){const u=(0,o.resolveDirective)("clean-tooltip");return c.suffixedLabel?r.showTooltip?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("span",s,[(0,o.createTextVNode)((0,o.toDisplayString)(c.suffixedLabel),1)])),[[u,{content:c.title,placement:r.tooltipPlacement}]]):((0,o.openBlock)(),(0,o.createElementBlock)("span",n,(0,o.toDisplayString)(c.suffixedLabel),1)):((0,o.openBlock)(),(0,o.createElementBlock)("span",a," — "))}var i=r(23464),c=r.n(i),u=r(91462),d=r(92043),p=r(34255),f={props:{value:{type:[String,Number],default:""},addSuffix:{type:Boolean,default:!1},addPrefix:{type:Boolean,default:!1},suffix:{type:String,default:"ago"},tooltipPlacement:{type:String,default:"auto"},showTooltip:{type:Boolean,default:!0},isCountdown:{type:Boolean,default:!1}},mounted(){this.liveUpdate(c()())},data(){return{label:"-"}},computed:{title(){if(!this.value)return"";const e=(0,d.ZD)(this.$store.getters["prefs/get"](u.DX)),t=(0,d.ZD)(this.$store.getters["prefs/get"](u.G$)),r=c()(this.value).format(`${e} ${t}`);return r},suffixedLabel(){if(!this.value)return this.label;let e=this.label||"";if(e&&this.addSuffix){const t=this.$store.getters["i18n/exists"],r=`suffix.${this.suffix}`,o=t(r)?this.t(r):this.suffix;e=`${e} ${o}`}return e},dayValue(){return this.value?c()(this.value):null}},watch:{value(){this.liveUpdate(c()())}},methods:{liveUpdate(e){if(!this.dayValue)return"-"!==this.label&&(this.label="-"),300;if(this.isCountdown&&e.valueOf()>this.dayValue?.valueOf())return this.label="-",300;const t=(0,p.qx)(this.dayValue,e),r=t.diff<0||!this.addPrefix?"":"-";let o=t.label;return 0===t.diff?o="Just now":(o+=` ${r}${this.t(t.unitsKey,{count:t.label})}`,o=o.trim()),this.label!==o&&(this.label=o),t.next||1}}},h=r(47433);const m=(0,h.A)(f,[["render",l]]);var v=m},73322:function(e,t,r){"use strict";r.r(t);var o=r(36758),a=r.n(o),s=r(40935),n=r.n(s),l=n()(a());l.push([e.id,".hardware-resource-gauge[data-v-0e4e8f37]{position:relative;display:flex;flex-direction:column}.hardware-resource-gauge .hw-gauge[data-v-0e4e8f37]:not(:first-of-type){margin-top:20px}.hardware-resource-gauge .values[data-v-0e4e8f37]{font-size:12px;padding-left:10px}",""]),t["default"]=l},61149:function(e,t,r){"use strict";r.r(t);var o=r(36758),a=r.n(o),s=r(40935),n=r.n(s),l=n()(a());l.push([e.id,".progress[data-v-abc33690]{display:block;border-radius:90px;background-color:var(--progress-bg);height:10px;width:100px}.progress .piece[data-v-abc33690]{display:inline-block;height:10px;border-radius:0;border-right:1px solid var(--progress-divider);vertical-align:top}.progress .piece[data-v-abc33690]:first-child{border-top-left-radius:90px;border-bottom-left-radius:90px}.progress .piece[data-v-abc33690]:last-child{border-top-right-radius:90px;border-bottom-right-radius:90px;border-right:0}.piece.bg-success[data-v-abc33690]:only-child{opacity:.5}",""]),t["default"]=l},15119:function(e,t,r){"use strict";r.r(t);var o=r(36758),a=r.n(o),s=r(40935),n=r.n(s),l=n()(a());l.push([e.id,".has-link[data-v-39c6e929]{cursor:pointer}.has-link[data-v-39c6e929]:hover{border-color:var(--link)}[data-v-39c6e929]  .content{display:flex;justify-content:space-between;align-items:center}[data-v-39c6e929]  .content H1,[data-v-39c6e929]  .content H3{margin:0}[data-v-39c6e929]  .content .chip{border-radius:2em;color:var(--body-bg);padding:0 1em}[data-v-39c6e929]  .content .chip.warn-count{background:var(--warning)}[data-v-39c6e929]  .content .chip.error-count{background:var(--error)}",""]),t["default"]=l},3221:function(e){!function(t,r){e.exports=r()}(0,(function(){"use strict";return function(e,t,r){var o=function(e,t){if(!t.length)return r();var o;1===t.length&&t[0].length>0&&(t=t[0]),o=t[0];for(var a=1;a<t.length;a+=1)t[a].isValid()&&!t[a][e](o)||(o=t[a]);return o};r.max=function(){var e=[].slice.call(arguments,0);return o("isAfter",e)},r.min=function(){var e=[].slice.call(arguments,0);return o("isBefore",e)}}}))},57657:function(e){!function(t,r){e.exports=r()}(0,(function(){"use strict";return function(e,t,r){var o=(new Date).getTimezoneOffset(),a=t.prototype;r.utc=function(e){return new t({date:e,utc:!0,args:arguments})},a.utc=function(){return r(this.toDate(),{locale:this.$L,utc:!0})},a.local=function(){return r(this.toDate(),{locale:this.$L,utc:!1})};var s=a.parse;a.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),s.call(this,e)};var n=a.init;a.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else n.call(this)};var l=a.utcOffset;a.utcOffset=function(e){var t=this.$utils().u;if(t(e))return this.$u?0:t(this.$offset)?l.call(this):this.$offset;var r,a=Math.abs(e)<=16?60*e:e;return 0!==e?(r=this.local().add(a+o,"minute")).$offset=a:r=this.utc(),r};var i=a.format;a.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return i.call(this,t)},a.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+o;return this.$d.valueOf()-6e4*e},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var c=a.toDate;a.toDate=function(e){return"s"===e&&this.$offset?r(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():c.call(this)}}}))},32778:function(e,t,r){var o=r(73322);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var a=r(74825).A;a("1c1305c7",o,!0,{sourceMap:!1,shadowMode:!1})},61789:function(e,t,r){var o=r(61149);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var a=r(74825).A;a("4a1f9a52",o,!0,{sourceMap:!1,shadowMode:!1})},61167:function(e,t,r){var o=r(15119);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var a=r(74825).A;a("320454d5",o,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=harvester-1.0.6.umd.min.527.js.map